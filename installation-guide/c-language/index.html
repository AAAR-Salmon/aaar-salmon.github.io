<!DOCTYPE html>
<html lang="ja">

<head>
	<title>C言語開発環境クイックインストールガイド</title>
</head>

<body>
	<h1>C言語開発環境クイックインストールガイド</h1>
	<section>
		<h2>挨拶</h2>
		<p>
			新入生の皆さん、及び新入生ではない皆さん、ご入学おめでとうございます。
			早々に悲しい現実をお伝えしますが、岡山大学工学部情報系学科では<sup>1</sup>基本的にC言語しかまともに教えてくれません。
			環境理工学部の専門科目を履修すればFortranとVBAはできますが、その程度です。
		</p>
		<p>
			さて、C言語を開発に使うのはよほど古い環境でもなければまず無いと思いますが、
			情報系の「工学基礎実験実習(情報系)」、工学部の「プログラミング1」、「プログラミング2」を履修すると選択の余儀なくC言語を書くことになります。
			我々新2年もオンラインでの講義となったため、自分のPCにC言語の開発環境の導入を要求されてしまいます。<s>めんどくせ。</s>
			今年もオンライン講義になればみなさんもインストールすることになるでしょう。
		</p>
		<p>
			というわけでC言語の開発環境のインストールを解説していきます。
		</p>
	</section>
	<section>
		<h2>そもそも何が必要？</h2>
		<p>
			C言語のプログラムを書いて実行するためには、
			<ul>
				<li>テキストエディタ</li>
				<li>コンパイラ</li>
			</ul>
			が必要です<sup>2</sup>。
		</p>
		<p>
			テキストエディタというのはテキストファイルを編集するためのソフトのことで、Wordなどのワープロソフトとは違い文字装飾等は一切できません。
			あくまでも文字を書くためだけのソフトです。
		</p>
		<p>
			ここは宗派の違いがあるので指定はしませんが、私は
			<a href="https://azure.microsoft.com/ja-jp/products/visual-studio-code/">Visual Studio Code</a>
			をおすすめしています。そこそこ軽量で拡張性に富んでいるからです。
			極論を言えばWindowsアクセサリのメモ帳で書けることには書けますが、断然書きやすさ、読みやすさが変わってくるので必ず何かしらインストールしてください。
			何をインストールするかは指導者に従ってください。
		</p>
		<p>
			コンパイラというのは、ソースコードを実行可能なバイナリに変換するためのプログラムです<sup>3</sup>。
			C言語ではGCCが最も一般的だと思いますので、GCCのインストールについて解説します。
		</p>
	</section>
	<section>
		<h2>GCCのインストール</h2>
		<section>
			<h2>Windows 10</h2>
			<p>
				Windows 10にはWindows Subsystem for Linux(WSL)という、Linuxの互換レイヤーが利用できます。
				WSL2は本物のLinuxカーネルを積んで、Linuxでできることは割と何でもできるようになりました。最高最高最高～！！
			</p>
			<p>
				WSLは
				<a href="https://docs.microsoft.com/ja-jp/windows/wsl/install-win10">ここにある手順</a>
				に従ってインストールできます。
				<strong>とはいえ流石にこれでは雑すぎますので、詰まったら訊いてください。</strong>
			</p>
			<p>
				インストールができれば、そこから先はLinux向けの手順と同じです。
			</p>
		</section>
		<section>
			<h2>Windows(10以外も含む)</h2>
			<p>
				<a href="https://ja.osdn.net/projects/mingw/">MinGW-Get</a>や
				<a href="https://www.msys2.org/">MSYS2</a>、
				<a href="https://chocolatey.org/">Chocolatey</a>
				を使うことでWindowsネイティブのGCC(すべてMinGW)<sup>4</sup>がインストールできます。
				去年、情報系学科では
				<a href="https://www.cygwin.com/">Cygwin</a>
				を勧められましたが、cygwin1.dllに依存する等かなり癖があるので私はおすすめしません。
				<a href="https://gitforwindows.org/">Git Bash</a>
				からgccが呼び出せなくなるので…
				Windows 10で何らかの事情でWSLが導入できない場合(もちろんそうでなくても)、こっちが使えますよ。
			</p>
			<p>
				ただまあ、岡大の皆さんは無償でWindows 10 Educationが利用できますので、Windows 10をインストールしたほうが無難かなと思います。一部の人はそうは思わなそうですが。
			</p>
			<p>
				ところで、Windowsネイティブで動くので、VSCodeのIntelliSense拡張と連携したい場合などはこっちのほうがWSLより良かったりします。いや結局どっち入れたらええねんと思った方はChocolateyからMinGWを入れてください。
			</p>
		</section>
		<section>
			<h2>MacやLinux</h2>
			<p>
				<strong>やったな！！！インストールしなくてもはじめからCコンパイラが入ってるぞ！！</strong>
			</p>
			<p>
				ただしMacの場合は<s>自分のことをGCCだと思いこんでいる精神異常</s>Clangというコンパイラが入っています<sup>5</sup>。正味あんまり変わらないのでClangでいいです(爆弾発言)。
			</p>
		</section>
	</section>
	<section>
		<h2>テスト</h2>
		<p>
			コンパイラがインストールできたら、実行できるかテストしてみましょう。
			以下はWindowsの場合の手順なので、そうでない方は訊いてください。
			<a href="./hello.c" download="hello.c">ここ</a>にサンプルプログラムを置いてあるので、それをダウンロードしてください。
		</p>
		<p>
			Win+Rキーで「ファイル名を指定して実行」ウィンドウを開き、<code>cmd</code>と入力してコマンドプロンプトを立ち上げます。
		</p>
		<p>
			そしてカレントディレクトリをファイルをダウンロードした場所に移動します。
			言ってることの意味がわからない方は、ダウンロードしたhello.cファイルをドキュメントライブラリに移動してください。
		</p>
		<p>
			そして、コマンドプロンプトのウィンドウに<code>gcc hello.c</code>と入力し、Enterを押します。こうするとコンパイルされ、a.exeファイルができるはずです。
		</p>
		<p>
			そうしたらコマンドプロンプトに<code>a.exe</code>と入力し、Enterを押します。
			Hello, world!と出力されればインストール成功です。お疲れ様でした。
		</p>
	</section>
	<section>
		<hr>
		<p>
		<ol>
			<li>多分新設の系でもそこは変わらないような気がします。</li>
			<li>そりゃ必要ではありますが、OSとか言い出さないでくださいね。</li>
			<li>広義の意味でのコンパイラです。狭義にはある言語で書かれたソースコードを、機械語または別の言語のソースコードに変換するプログラムです。C言語の文脈で言えばソースコードをアセンブリに変換するもの、またはそれとリンカやアセンブラなどを含めたツール群を指します。</li>
			<li>書いててMinGWが何者なのかわからなくなってきましたので、スルーして大丈夫です。筆者も未だによくわかってません。とにかくCコンパイラを入れます。</li>
			<li>どういうことかというと、デフォルトでclangが入っているのですが、gccも入っているかのように見せかけて実はgccはclangのシンボリックリンクなのです。つまり<code>gcc</code>というコマンドを入力するとclangが動きます。</li>
		</ol>
		</p>
	</section>
</body>

</html>
